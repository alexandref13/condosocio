plugins {
    id 'com.android.application'
    id 'org.jetbrains.kotlin.android'
    id 'dev.flutter.flutter-gradle-plugin'
}

android {
    namespace 'com.condosocionovo'

    // Deixe o Flutter controlar o compileSdk/targetSdk (vai usar 35 no stable atual)
    compileSdk flutter.compileSdkVersion

    // >>> Garante NDK r28 (compatÃ­vel com 16 KB)
    ndkVersion "28.0.12433566"

    defaultConfig {
        applicationId 'com.condosocionovo'
        minSdkVersion flutter.minSdkVersion
        targetSdk flutter.targetSdkVersion
        versionCode 31
        versionName "12.0.0"
        multiDexEnabled true
    }
    

    // >>> AGP 8.6+/Kotlin 2.1 pedem Java 17
    compileOptions {
        sourceCompatibility JavaVersion.VERSION_17
        targetCompatibility JavaVersion.VERSION_17
    }
    kotlinOptions { jvmTarget = '17' }

    buildTypes {
        release {
            shrinkResources false
            minifyEnabled false
            signingConfig signingConfigs.debug
        }
    }

    // >>> Remova o legacy packaging (pode atrapalhar .so alinhado p/ 16 KB)
    // packagingOptions { jniLibs { useLegacyPackaging true } }
}

flutter {
    source '../..'
}

dependencies {
    implementation 'androidx.multidex:multidex:2.0.1'
}
